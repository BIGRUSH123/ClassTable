# 按周课表功能使用指南

## 🎯 功能概述

本项目现已支持按周生成和管理课表，能够处理复杂的课程时间安排，包括：
- 支持20周的学期管理
- 复杂时间格式解析（如：1-6周，星期一第5-6节）
- 不同周次可能有不同的上课时间和地点
- 按周查看课表，支持周次切换

## 🚀 主要功能

### 1. 智能课程解析

在课程管理页面点击"智能解析"按钮，支持以下格式的课程数据：

```
有限自动机理论	陈文宇,余盛季	计算机科学与工程学院（网络空间安全学院）	清水河	32	2	1-6周，星期一第5-6节 星期三第5-6节 (立人楼B411)
						7-8周，星期一第5-6节 星期三第5-6节 (立人楼B411)
```

**格式说明：**
- 列分隔符：制表符（Tab）
- 列顺序：课程名、教师、学院、校区、学时、学分、时间安排
- 时间格式：周次范围，星期X第Y-Z节 (教室)
- 支持多行时间安排（不同周次可能不同）

### 2. 按周课表生成

在"生成课表"页面：
- **生成全学期课表**：生成1-20周完整课表
- **生成指定周次课表**：只生成特定周次的课表
- 可设置周次范围（如第1-16周）

### 3. 按周查看课表

在"我的课表"页面：
- 使用周次选择器切换不同周次
- 支持左右箭头快速切换
- 显示当前周次的课程安排
- 课程卡片显示周次信息

## 📋 使用步骤

### 步骤1：添加教师
1. 进入"教师管理"页面
2. 添加课程中涉及的所有教师

### 步骤2：导入课程
1. 进入"课程管理"页面
2. 点击"智能解析"按钮
3. 粘贴或输入课程数据
4. 点击"导入课程"

### 步骤3：生成课表
1. 进入"生成课表"页面
2. 选择生成范围：
   - 全学期课表（推荐）
   - 指定周次课表
3. 点击"生成课表"按钮

### 步骤4：查看课表
1. 进入"我的课表"页面
2. 使用周次选择器查看不同周次
3. 可导出当前周次的课表为图片

## 🔧 时间格式解析规则

### 支持的时间格式：

1. **基本格式**
   ```
   1-6周，星期一第5-6节 星期三第5-6节 (立人楼B411)
   ```

2. **多周次格式**
   ```
   1-6周，星期一第5-6节 (教室A)
   7-12周，星期一第5-6节 (教室B)
   ```

3. **连续节次**
   ```
   星期一第1-3节  # 第1、2、3节
   星期二第5节     # 仅第5节
   ```

4. **多个时间段**
   ```
   星期一第1-2节 星期三第5-6节 星期五第9节
   ```

### 解析规则：
- 自动识别星期（支持"星期一"、"周一"等格式）
- 自动解析节次范围（如"第5-6节"解析为第5节和第6节）
- 提取教室信息（括号内的内容）
- 解析周次范围（如"1-6周"）

## 📚 示例数据

项目根目录的 `example_course_data.txt` 文件包含了完整的示例数据，包括：
- 不同周次的课程安排
- 多教师课程
- 复杂时间格式
- 不同教室安排

## ⚠️ 注意事项

1. **数据格式**：确保使用制表符分隔，不要使用空格
2. **教师匹配**：导入前请确保相关教师已存在于系统中
3. **周次冲突**：系统会自动检测同一时间段的课程冲突
4. **数据备份**：重要数据请及时导出备份

## 🛠️ 技术特性

- **智能解析**：基于正则表达式的强大时间解析引擎
- **冲突检测**：自动检测时间冲突，支持周次级别的冲突分析
- **数据持久化**：使用localStorage自动保存数据
- **响应式设计**：支持移动端和桌面端访问
- **导出功能**：支持课表图片导出和JSON数据导出

## 🚀 未来规划

- [ ] 支持更多时间格式（如单双周）
- [ ] 课程颜色自定义
- [ ] 批量操作功能
- [ ] 更多导出格式（PDF、Excel等）
- [ ] 课程提醒功能

---

如有问题或建议，请通过项目issue反馈。
