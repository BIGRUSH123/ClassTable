{"ast":null,"code":"var _jsxFileName = \"D:\\\\code\\\\classtable\\\\src\\\\components\\\\CourseTimeParser.tsx\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport { Upload, FileText, AlertCircle, CheckCircle, Copy } from 'lucide-react';\nimport { parseCourseInfo, parseCourseTime } from '../utils/courseTimeParser';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const CourseTimeParser = ({\n  teachers,\n  onImportCourses,\n  onClose\n}) => {\n  _s();\n  const [inputText, setInputText] = useState('');\n  const [importResult, setImportResult] = useState(null);\n\n  // 示例数据\n  const exampleText = `有限自动机理论\t陈文宇,余盛季\t计算机科学与工程学院（网络空间安全学院）\t清水河\t32\t2\t1-6周，星期一第5-6节 星期三第5-6节 (立人楼B411)\n\t\t\t\t\t\t7-8周，星期一第5-6节 星期三第5-6节 (立人楼B411)\n高级软件开发技术\t孙明\t计算机科学与工程学院\t清水河\t16\t1\t1-8周，星期一第9-11节 (立人楼B402)\n机器学习2班\t钟秀琴\t计算机科学与工程学院\t清水河\t32\t2\t1-16周，星期二第3-4节 星期四第7-8节 (立人楼B409)`;\n  const handleImport = () => {\n    if (!inputText.trim()) {\n      setImportResult({\n        success: false,\n        message: '请输入课程数据'\n      });\n      return;\n    }\n    try {\n      const courses = parseCourseText(inputText);\n      if (courses.length === 0) {\n        setImportResult({\n          success: false,\n          message: '未能解析出任何课程数据，请检查格式'\n        });\n        return;\n      }\n      onImportCourses(courses);\n      setImportResult({\n        success: true,\n        message: '课程导入成功！',\n        count: courses.length\n      });\n      setInputText('');\n    } catch (error) {\n      setImportResult({\n        success: false,\n        message: `导入失败: ${error instanceof Error ? error.message : '未知错误'}`\n      });\n    }\n  };\n\n  // 解析课程文本\n  const parseCourseText = text => {\n    const lines = text.trim().split('\\n').filter(line => line.trim());\n    const courses = [];\n    for (const line of lines) {\n      try {\n        var _teachers$, _courseInfo$timeSlots;\n        // 使用新的解析器\n        const courseInfo = parseCourseInfo(line);\n\n        // 查找对应的教师ID\n        const teacherNames = courseInfo.teachers;\n        const teacher = teachers.find(t => teacherNames.some(name => t.name.includes(name) || name.includes(t.name)));\n        courses.push({\n          name: courseInfo.name,\n          subject: courseInfo.department || '未知学科',\n          teacherId: (teacher === null || teacher === void 0 ? void 0 : teacher.id) || ((_teachers$ = teachers[0]) === null || _teachers$ === void 0 ? void 0 : _teachers$.id) || 'unknown',\n          credits: courseInfo.credits || 2,\n          fixedTimeSlots: courseInfo.timeSlots,\n          location: (_courseInfo$timeSlots = courseInfo.timeSlots[0]) === null || _courseInfo$timeSlots === void 0 ? void 0 : _courseInfo$timeSlots.location,\n          weeks: `1-20周`,\n          // 默认全学期\n          teachers: courseInfo.teachers,\n          department: courseInfo.department,\n          campus: courseInfo.campus\n        });\n      } catch (error) {\n        console.warn('解析课程行失败:', line, error);\n\n        // 尝试简单的分割解析作为后备\n        try {\n          const parts = line.split('\\t').map(part => part.trim());\n          if (parts.length >= 6) {\n            var _teachers$2, _timeSlots$;\n            const [name, teacherName, department, campus, hoursStr, creditsStr, ...scheduleParts] = parts;\n            const scheduleText = scheduleParts.join('\\n');\n\n            // 使用解析器解析时间\n            const timeSlots = parseCourseTime(scheduleText);\n            const teacher = teachers.find(t => t.name.includes(teacherName) || teacherName.includes(t.name));\n            courses.push({\n              name,\n              subject: department || '未知学科',\n              teacherId: (teacher === null || teacher === void 0 ? void 0 : teacher.id) || ((_teachers$2 = teachers[0]) === null || _teachers$2 === void 0 ? void 0 : _teachers$2.id) || 'unknown',\n              credits: parseInt(creditsStr) || 2,\n              fixedTimeSlots: timeSlots,\n              location: (_timeSlots$ = timeSlots[0]) === null || _timeSlots$ === void 0 ? void 0 : _timeSlots$.location,\n              weeks: `1-20周`,\n              teachers: [teacherName],\n              department,\n              campus\n            });\n          }\n        } catch (fallbackError) {\n          console.warn('后备解析也失败:', line, fallbackError);\n        }\n      }\n    }\n    return courses;\n  };\n  const copyExample = () => {\n    setInputText(exampleText);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-white rounded-lg p-6 max-w-4xl w-full mx-4 max-h-[90vh] overflow-y-auto\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex justify-between items-center mb-6\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          className: \"text-lg font-semibold flex items-center gap-2\",\n          children: [/*#__PURE__*/_jsxDEV(Upload, {\n            className: \"h-5 w-5\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 139,\n            columnNumber: 13\n          }, this), \"\\u8BFE\\u7A0B\\u65F6\\u95F4\\u89E3\\u6790\\u5BFC\\u5165\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 138,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: onClose,\n          className: \"text-gray-500 hover:text-gray-700\",\n          children: \"\\u2715\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 142,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 137,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"space-y-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"block text-sm font-medium text-gray-700 mb-2\",\n            children: \"\\u8BFE\\u7A0B\\u6570\\u636E\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 152,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mb-2\",\n            children: /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: copyExample,\n              className: \"text-sm btn-secondary flex items-center gap-1\",\n              children: [/*#__PURE__*/_jsxDEV(Copy, {\n                className: \"h-3 w-3\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 160,\n                columnNumber: 17\n              }, this), \"\\u4F7F\\u7528\\u793A\\u4F8B\\u6570\\u636E\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 156,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 155,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n            value: inputText,\n            onChange: e => setInputText(e.target.value),\n            placeholder: \"\\u8BF7\\u7C98\\u8D34\\u8BFE\\u7A0B\\u6570\\u636E\\uFF0C\\u6BCF\\u884C\\u4E00\\u95E8\\u8BFE\\u7A0B\\uFF0C\\u683C\\u5F0F\\uFF1A\\u8BFE\\u7A0B\\u540D\\t\\u6559\\u5E08\\t\\u5B66\\u9662\\t\\u6821\\u533A\\t\\u5B66\\u65F6\\t\\u5B66\\u5206\\t\\u65F6\\u95F4\\u5B89\\u6392\",\n            className: \"w-full h-40 p-3 border border-gray-300 rounded-lg text-sm font-mono\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 164,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 151,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-blue-50 p-4 rounded-lg\",\n          children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n            className: \"font-medium text-blue-900 mb-2 flex items-center gap-2\",\n            children: [/*#__PURE__*/_jsxDEV(FileText, {\n              className: \"h-4 w-4\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 174,\n              columnNumber: 15\n            }, this), \"\\u652F\\u6301\\u7684\\u65F6\\u95F4\\u683C\\u5F0F\\u793A\\u4F8B\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 173,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-sm text-blue-800 space-y-1\",\n            children: [/*#__PURE__*/_jsxDEV(\"p\", {\n              children: \"\\u2022 1-6\\u5468\\uFF0C\\u661F\\u671F\\u4E00\\u7B2C5-6\\u8282 \\u661F\\u671F\\u4E09\\u7B2C5-6\\u8282 (\\u7ACB\\u4EBA\\u697CB411)\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 178,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: \"\\u2022 7-8\\u5468\\uFF0C\\u661F\\u671F\\u4E00\\u7B2C5-6\\u8282 \\u661F\\u671F\\u4E09\\u7B2C5-6\\u8282 (\\u7ACB\\u4EBA\\u697CB411)\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 179,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: \"\\u2022 \\u652F\\u6301\\u591A\\u4E2A\\u5468\\u6B21\\u8303\\u56F4\\uFF0C\\u4E0D\\u540C\\u6559\\u5BA4\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 180,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: \"\\u2022 \\u81EA\\u52A8\\u8BC6\\u522B\\u661F\\u671F\\u548C\\u8282\\u6B21\\uFF0C\\u652F\\u6301\\u8FDE\\u7EED\\u8282\\u6B21\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 181,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 177,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 172,\n          columnNumber: 11\n        }, this), importResult && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: `p-4 rounded-lg flex items-start gap-3 ${importResult.success ? 'bg-green-50 border border-green-200' : 'bg-red-50 border border-red-200'}`,\n          children: [importResult.success ? /*#__PURE__*/_jsxDEV(CheckCircle, {\n            className: \"h-5 w-5 text-green-500 mt-0.5 flex-shrink-0\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 192,\n            columnNumber: 17\n          }, this) : /*#__PURE__*/_jsxDEV(AlertCircle, {\n            className: \"h-5 w-5 text-red-500 mt-0.5 flex-shrink-0\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 194,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"p\", {\n              className: `font-medium ${importResult.success ? 'text-green-900' : 'text-red-900'}`,\n              children: importResult.message\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 197,\n              columnNumber: 17\n            }, this), importResult.count && /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-green-700 text-sm mt-1\",\n              children: [\"\\u6210\\u529F\\u5BFC\\u5165 \", importResult.count, \" \\u95E8\\u8BFE\\u7A0B\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 203,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 196,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 186,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex gap-3 pt-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: handleImport,\n            disabled: !inputText.trim(),\n            className: \"btn-primary flex items-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed\",\n            children: [/*#__PURE__*/_jsxDEV(Upload, {\n              className: \"h-4 w-4\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 217,\n              columnNumber: 15\n            }, this), \"\\u5BFC\\u5165\\u8BFE\\u7A0B\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 212,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: onClose,\n            className: \"btn-secondary\",\n            children: \"\\u53D6\\u6D88\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 220,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 211,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 150,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 136,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 135,\n    columnNumber: 5\n  }, this);\n};\n_s(CourseTimeParser, \"RWDo16FLpP/DFSlzc6WLAyfM8lo=\");\n_c = CourseTimeParser;\nvar _c;\n$RefreshReg$(_c, \"CourseTimeParser\");","map":{"version":3,"names":["React","useState","Upload","FileText","AlertCircle","CheckCircle","Copy","parseCourseInfo","parseCourseTime","jsxDEV","_jsxDEV","CourseTimeParser","teachers","onImportCourses","onClose","_s","inputText","setInputText","importResult","setImportResult","exampleText","handleImport","trim","success","message","courses","parseCourseText","length","count","error","Error","text","lines","split","filter","line","_teachers$","_courseInfo$timeSlots","courseInfo","teacherNames","teacher","find","t","some","name","includes","push","subject","department","teacherId","id","credits","fixedTimeSlots","timeSlots","location","weeks","campus","console","warn","parts","map","part","_teachers$2","_timeSlots$","teacherName","hoursStr","creditsStr","scheduleParts","scheduleText","join","parseInt","fallbackError","copyExample","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onClick","value","onChange","e","target","placeholder","disabled","_c","$RefreshReg$"],"sources":["D:/code/classtable/src/components/CourseTimeParser.tsx"],"sourcesContent":["import React, { useState } from 'react';\r\nimport { Course, Teacher, FixedTimeSlot } from '../types';\r\nimport { Upload, FileText, AlertCircle, CheckCircle, Copy } from 'lucide-react';\r\nimport { parseCourseInfo, parseCourseTime } from '../utils/courseTimeParser';\r\n\r\ninterface CourseTimeParserProps {\r\n  teachers: Teacher[];\r\n  onImportCourses: (courses: Omit<Course, 'id'>[]) => void;\r\n  onClose: () => void;\r\n}\r\n\r\nexport const CourseTimeParser: React.FC<CourseTimeParserProps> = ({\r\n  teachers,\r\n  onImportCourses,\r\n  onClose\r\n}) => {\r\n  const [inputText, setInputText] = useState('');\r\n  const [importResult, setImportResult] = useState<{\r\n    success: boolean;\r\n    message: string;\r\n    count?: number;\r\n  } | null>(null);\r\n\r\n  // 示例数据\r\n  const exampleText = `有限自动机理论\t陈文宇,余盛季\t计算机科学与工程学院（网络空间安全学院）\t清水河\t32\t2\t1-6周，星期一第5-6节 星期三第5-6节 (立人楼B411)\r\n\t\t\t\t\t\t7-8周，星期一第5-6节 星期三第5-6节 (立人楼B411)\r\n高级软件开发技术\t孙明\t计算机科学与工程学院\t清水河\t16\t1\t1-8周，星期一第9-11节 (立人楼B402)\r\n机器学习2班\t钟秀琴\t计算机科学与工程学院\t清水河\t32\t2\t1-16周，星期二第3-4节 星期四第7-8节 (立人楼B409)`;\r\n\r\n  const handleImport = () => {\r\n    if (!inputText.trim()) {\r\n      setImportResult({\r\n        success: false,\r\n        message: '请输入课程数据'\r\n      });\r\n      return;\r\n    }\r\n\r\n    try {\r\n      const courses = parseCourseText(inputText);\r\n      \r\n      if (courses.length === 0) {\r\n        setImportResult({\r\n          success: false,\r\n          message: '未能解析出任何课程数据，请检查格式'\r\n        });\r\n        return;\r\n      }\r\n\r\n      onImportCourses(courses);\r\n      setImportResult({\r\n        success: true,\r\n        message: '课程导入成功！',\r\n        count: courses.length\r\n      });\r\n      setInputText('');\r\n    } catch (error) {\r\n      setImportResult({\r\n        success: false,\r\n        message: `导入失败: ${error instanceof Error ? error.message : '未知错误'}`\r\n      });\r\n    }\r\n  };\r\n\r\n  // 解析课程文本\r\n  const parseCourseText = (text: string): Omit<Course, 'id'>[] => {\r\n    const lines = text.trim().split('\\n').filter(line => line.trim());\r\n    const courses: Omit<Course, 'id'>[] = [];\r\n\r\n    for (const line of lines) {\r\n      try {\r\n        // 使用新的解析器\r\n        const courseInfo = parseCourseInfo(line);\r\n        \r\n        // 查找对应的教师ID\r\n        const teacherNames = courseInfo.teachers;\r\n        const teacher = teachers.find(t => \r\n          teacherNames.some(name => t.name.includes(name) || name.includes(t.name))\r\n        );\r\n\r\n        courses.push({\r\n          name: courseInfo.name,\r\n          subject: courseInfo.department || '未知学科',\r\n          teacherId: teacher?.id || teachers[0]?.id || 'unknown',\r\n          credits: courseInfo.credits || 2,\r\n          fixedTimeSlots: courseInfo.timeSlots,\r\n          location: courseInfo.timeSlots[0]?.location,\r\n          weeks: `1-20周`, // 默认全学期\r\n          teachers: courseInfo.teachers,\r\n          department: courseInfo.department,\r\n          campus: courseInfo.campus\r\n        });\r\n      } catch (error) {\r\n        console.warn('解析课程行失败:', line, error);\r\n        \r\n        // 尝试简单的分割解析作为后备\r\n        try {\r\n          const parts = line.split('\\t').map(part => part.trim());\r\n          if (parts.length >= 6) {\r\n            const [name, teacherName, department, campus, hoursStr, creditsStr, ...scheduleParts] = parts;\r\n            const scheduleText = scheduleParts.join('\\n');\r\n            \r\n            // 使用解析器解析时间\r\n            const timeSlots = parseCourseTime(scheduleText);\r\n            \r\n            const teacher = teachers.find(t => t.name.includes(teacherName) || teacherName.includes(t.name));\r\n            \r\n            courses.push({\r\n              name,\r\n              subject: department || '未知学科',\r\n              teacherId: teacher?.id || teachers[0]?.id || 'unknown',\r\n              credits: parseInt(creditsStr) || 2,\r\n              fixedTimeSlots: timeSlots,\r\n              location: timeSlots[0]?.location,\r\n              weeks: `1-20周`,\r\n              teachers: [teacherName],\r\n              department,\r\n              campus\r\n            });\r\n          }\r\n        } catch (fallbackError) {\r\n          console.warn('后备解析也失败:', line, fallbackError);\r\n        }\r\n      }\r\n    }\r\n\r\n    return courses;\r\n  };\r\n\r\n  const copyExample = () => {\r\n    setInputText(exampleText);\r\n  };\r\n\r\n  return (\r\n    <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50\">\r\n      <div className=\"bg-white rounded-lg p-6 max-w-4xl w-full mx-4 max-h-[90vh] overflow-y-auto\">\r\n        <div className=\"flex justify-between items-center mb-6\">\r\n          <h3 className=\"text-lg font-semibold flex items-center gap-2\">\r\n            <Upload className=\"h-5 w-5\" />\r\n            课程时间解析导入\r\n          </h3>\r\n          <button\r\n            onClick={onClose}\r\n            className=\"text-gray-500 hover:text-gray-700\"\r\n          >\r\n            ✕\r\n          </button>\r\n        </div>\r\n\r\n        <div className=\"space-y-4\">\r\n          <div>\r\n            <label className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n              课程数据\r\n            </label>\r\n            <div className=\"mb-2\">\r\n              <button\r\n                onClick={copyExample}\r\n                className=\"text-sm btn-secondary flex items-center gap-1\"\r\n              >\r\n                <Copy className=\"h-3 w-3\" />\r\n                使用示例数据\r\n              </button>\r\n            </div>\r\n            <textarea\r\n              value={inputText}\r\n              onChange={(e) => setInputText(e.target.value)}\r\n              placeholder=\"请粘贴课程数据，每行一门课程，格式：课程名\t教师\t学院\t校区\t学时\t学分\t时间安排\"\r\n              className=\"w-full h-40 p-3 border border-gray-300 rounded-lg text-sm font-mono\"\r\n            />\r\n          </div>\r\n\r\n          <div className=\"bg-blue-50 p-4 rounded-lg\">\r\n            <h4 className=\"font-medium text-blue-900 mb-2 flex items-center gap-2\">\r\n              <FileText className=\"h-4 w-4\" />\r\n              支持的时间格式示例\r\n            </h4>\r\n            <div className=\"text-sm text-blue-800 space-y-1\">\r\n              <p>• 1-6周，星期一第5-6节 星期三第5-6节 (立人楼B411)</p>\r\n              <p>• 7-8周，星期一第5-6节 星期三第5-6节 (立人楼B411)</p>\r\n              <p>• 支持多个周次范围，不同教室</p>\r\n              <p>• 自动识别星期和节次，支持连续节次</p>\r\n            </div>\r\n          </div>\r\n\r\n          {importResult && (\r\n            <div className={`p-4 rounded-lg flex items-start gap-3 ${\r\n              importResult.success \r\n                ? 'bg-green-50 border border-green-200' \r\n                : 'bg-red-50 border border-red-200'\r\n            }`}>\r\n              {importResult.success ? (\r\n                <CheckCircle className=\"h-5 w-5 text-green-500 mt-0.5 flex-shrink-0\" />\r\n              ) : (\r\n                <AlertCircle className=\"h-5 w-5 text-red-500 mt-0.5 flex-shrink-0\" />\r\n              )}\r\n              <div>\r\n                <p className={`font-medium ${\r\n                  importResult.success ? 'text-green-900' : 'text-red-900'\r\n                }`}>\r\n                  {importResult.message}\r\n                </p>\r\n                {importResult.count && (\r\n                  <p className=\"text-green-700 text-sm mt-1\">\r\n                    成功导入 {importResult.count} 门课程\r\n                  </p>\r\n                )}\r\n              </div>\r\n            </div>\r\n          )}\r\n\r\n          <div className=\"flex gap-3 pt-4\">\r\n            <button\r\n              onClick={handleImport}\r\n              disabled={!inputText.trim()}\r\n              className=\"btn-primary flex items-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed\"\r\n            >\r\n              <Upload className=\"h-4 w-4\" />\r\n              导入课程\r\n            </button>\r\n            <button\r\n              onClick={onClose}\r\n              className=\"btn-secondary\"\r\n            >\r\n              取消\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}