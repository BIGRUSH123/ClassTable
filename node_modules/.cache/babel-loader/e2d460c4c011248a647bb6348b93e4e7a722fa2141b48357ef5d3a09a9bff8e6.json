{"ast":null,"code":"/**\r\n * 解析课程时间文本，支持复杂的时间格式\r\n * 例如：1-6周，星期一第5-6节 星期三第5-6节 (立人楼B411)\r\n *      7-8周，星期一第5-6节 星期三第5-6节 (立人楼B411)\r\n */\n\n// 星期映射\nconst DAY_MAP = {\n  '星期一': 1,\n  '星期二': 2,\n  '星期三': 3,\n  '星期四': 4,\n  '星期五': 5,\n  '星期六': 6,\n  '星期日': 7,\n  '周一': 1,\n  '周二': 2,\n  '周三': 3,\n  '周四': 4,\n  '周五': 5,\n  '周六': 6,\n  '周日': 7,\n  '一': 1,\n  '二': 2,\n  '三': 3,\n  '四': 4,\n  '五': 5,\n  '六': 6,\n  '日': 7\n};\n\n/**\r\n * 解析周次范围字符串\r\n * @param weekStr - 如 \"1-6周\" 或 \"7-8周\"\r\n * @returns WeekRange 对象\r\n */\nexport function parseWeekRange(weekStr) {\n  // 匹配 \"数字-数字周\" 或 \"数字周\" 格式\n  const match = weekStr.match(/(\\d+)(?:-(\\d+))?周?/);\n  if (!match) return null;\n  const start = parseInt(match[1]);\n  const end = match[2] ? parseInt(match[2]) : start;\n  return {\n    start,\n    end\n  };\n}\n\n/**\r\n * 解析节次范围\r\n * @param timeStr - 如 \"第5-6节\" 或 \"第5节\"\r\n * @returns 时间段ID数组\r\n */\nexport function parseTimeSlots(timeStr) {\n  // 匹配 \"第数字-数字节\" 或 \"第数字节\" 格式\n  const match = timeStr.match(/第(\\d+)(?:-(\\d+))?节/);\n  if (!match) return [];\n  const start = parseInt(match[1]);\n  const end = match[2] ? parseInt(match[2]) : start;\n  const slots = [];\n  for (let i = start; i <= end; i++) {\n    slots.push(i.toString());\n  }\n  return slots;\n}\n\n/**\r\n * 解析地点信息\r\n * @param text - 包含地点的文本，如 \"(立人楼B411)\"\r\n * @returns 地点字符串\r\n */\nexport function parseLocation(text) {\n  const match = text.match(/\\(([^)]+)\\)/);\n  return match ? match[1] : undefined;\n}\n\n/**\r\n * 解析星期\r\n * @param dayStr - 如 \"星期一\" 或 \"周一\"\r\n * @returns 星期数字 (1-7)\r\n */\nexport function parseDay(dayStr) {\n  return DAY_MAP[dayStr] || null;\n}\n\n/**\r\n * 解析单行时间安排\r\n * @param line - 如 \"1-6周，星期一第5-6节 星期三第5-6节 (立人楼B411)\"\r\n * @returns 解析结果\r\n */\nexport function parseTimeLine(line) {\n  const trimmedLine = line.trim();\n\n  // 提取周次信息\n  const weekMatch = trimmedLine.match(/^(\\d+(?:-\\d+)?周?)[，,]/);\n  const weeks = weekMatch ? parseWeekRange(weekMatch[1]) : null;\n\n  // 提取地点信息\n  const location = parseLocation(trimmedLine);\n\n  // 移除周次和地点信息，只保留时间安排\n  let timeContent = trimmedLine;\n  if (weekMatch) {\n    timeContent = timeContent.replace(weekMatch[0], '');\n  }\n  if (location) {\n    timeContent = timeContent.replace(/\\([^)]+\\)/, '');\n  }\n  timeContent = timeContent.trim();\n\n  // 解析时间安排：星期X第Y-Z节\n  const timeSlots = [];\n\n  // 匹配所有 \"星期X第Y-Z节\" 的模式 - 使用兼容的方法\n  const regex = /(星期[一二三四五六日]|周[一二三四五六日])\\s*第\\d+(?:-\\d+)?节/g;\n  let match;\n  while ((match = regex.exec(timeContent)) !== null) {\n    const fullMatch = match[0];\n\n    // 提取星期\n    const dayMatch = fullMatch.match(/(星期[一二三四五六日]|周[一二三四五六日])/);\n    if (!dayMatch) continue;\n    const dayOfWeek = parseDay(dayMatch[1]);\n    if (!dayOfWeek) continue;\n\n    // 提取节次\n    const timeSlotIds = parseTimeSlots(fullMatch);\n    if (timeSlotIds.length === 0) continue;\n    timeSlots.push({\n      dayOfWeek,\n      timeSlotIds,\n      weeks: weeks ? [weeks] : undefined,\n      location\n    });\n  }\n  return {\n    weeks,\n    timeSlots,\n    location\n  };\n}\n\n/**\r\n * 解析完整的课程时间文本\r\n * @param timeText - 完整的时间文本\r\n * @returns FixedTimeSlot数组\r\n */\nexport function parseCourseTime(timeText) {\n  if (!timeText || timeText.trim() === '') return [];\n  const allTimeSlots = [];\n\n  // 按行分割\n  const lines = timeText.split(/\\n|\\r\\n/).filter(line => line.trim() !== '');\n  for (const line of lines) {\n    const result = parseTimeLine(line);\n    allTimeSlots.push(...result.timeSlots);\n  }\n  return allTimeSlots;\n}\n\n/**\r\n * 从课程描述文本中提取课程信息\r\n * @param courseText - 完整的课程描述文本\r\n * @returns 解析的课程信息\r\n */\nexport function parseCourseInfo(courseText) {\n  const lines = courseText.split(/\\t|\\n/).filter(line => line.trim() !== '');\n  if (lines.length < 4) {\n    throw new Error('课程信息格式不正确，至少需要包含：课程名、教师、学院、校区等信息');\n  }\n  const name = lines[0].trim();\n  const teachersStr = lines[1].trim();\n  const department = lines[2].trim();\n  const campus = lines[3].trim();\n\n  // 解析教师（可能有多个，用逗号分隔）\n  const teachers = teachersStr.split(/[,，]/).map(t => t.trim()).filter(t => t !== '');\n\n  // 提取学分信息（通常在第5列）\n  let credits;\n  if (lines.length > 4) {\n    const creditsMatch = lines[4].match(/\\d+/);\n    if (creditsMatch) {\n      credits = parseInt(creditsMatch[0]);\n    }\n  }\n\n  // 提取时间信息（通常从第6列开始）\n  const timeText = lines.slice(5).join('\\n');\n  const timeSlots = parseCourseTime(timeText);\n  return {\n    name,\n    teachers,\n    department,\n    campus,\n    credits,\n    timeSlots\n  };\n}\n\n/**\r\n * 检查指定周次是否在周次范围内\r\n * @param week - 要检查的周次\r\n * @param ranges - 周次范围数组\r\n * @returns 是否在范围内\r\n */\nexport function isWeekInRanges(week, ranges) {\n  if (!ranges || ranges.length === 0) return true;\n  return ranges.some(range => week >= range.start && week <= range.end);\n}\n\n/**\r\n * 格式化周次范围为字符串\r\n * @param ranges - 周次范围数组\r\n * @returns 格式化的字符串\r\n */\nexport function formatWeekRanges(ranges) {\n  if (!ranges || ranges.length === 0) return '全学期';\n  return ranges.map(range => {\n    if (range.start === range.end) {\n      return `${range.start}周`;\n    } else {\n      return `${range.start}-${range.end}周`;\n    }\n  }).join('，');\n}","map":{"version":3,"names":["DAY_MAP","parseWeekRange","weekStr","match","start","parseInt","end","parseTimeSlots","timeStr","slots","i","push","toString","parseLocation","text","undefined","parseDay","dayStr","parseTimeLine","line","trimmedLine","trim","weekMatch","weeks","location","timeContent","replace","timeSlots","regex","exec","fullMatch","dayMatch","dayOfWeek","timeSlotIds","length","parseCourseTime","timeText","allTimeSlots","lines","split","filter","result","parseCourseInfo","courseText","Error","name","teachersStr","department","campus","teachers","map","t","credits","creditsMatch","slice","join","isWeekInRanges","week","ranges","some","range","formatWeekRanges"],"sources":["D:/code/classtable/src/utils/courseTimeParser.ts"],"sourcesContent":["import { FixedTimeSlot, WeekRange } from '../types';\r\n\r\n/**\r\n * 解析课程时间文本，支持复杂的时间格式\r\n * 例如：1-6周，星期一第5-6节 星期三第5-6节 (立人楼B411)\r\n *      7-8周，星期一第5-6节 星期三第5-6节 (立人楼B411)\r\n */\r\n\r\n// 星期映射\r\nconst DAY_MAP: { [key: string]: number } = {\r\n  '星期一': 1, '星期二': 2, '星期三': 3, '星期四': 4, '星期五': 5, '星期六': 6, '星期日': 7,\r\n  '周一': 1, '周二': 2, '周三': 3, '周四': 4, '周五': 5, '周六': 6, '周日': 7,\r\n  '一': 1, '二': 2, '三': 3, '四': 4, '五': 5, '六': 6, '日': 7\r\n};\r\n\r\n/**\r\n * 解析周次范围字符串\r\n * @param weekStr - 如 \"1-6周\" 或 \"7-8周\"\r\n * @returns WeekRange 对象\r\n */\r\nexport function parseWeekRange(weekStr: string): WeekRange | null {\r\n  // 匹配 \"数字-数字周\" 或 \"数字周\" 格式\r\n  const match = weekStr.match(/(\\d+)(?:-(\\d+))?周?/);\r\n  if (!match) return null;\r\n  \r\n  const start = parseInt(match[1]);\r\n  const end = match[2] ? parseInt(match[2]) : start;\r\n  \r\n  return { start, end };\r\n}\r\n\r\n/**\r\n * 解析节次范围\r\n * @param timeStr - 如 \"第5-6节\" 或 \"第5节\"\r\n * @returns 时间段ID数组\r\n */\r\nexport function parseTimeSlots(timeStr: string): string[] {\r\n  // 匹配 \"第数字-数字节\" 或 \"第数字节\" 格式\r\n  const match = timeStr.match(/第(\\d+)(?:-(\\d+))?节/);\r\n  if (!match) return [];\r\n  \r\n  const start = parseInt(match[1]);\r\n  const end = match[2] ? parseInt(match[2]) : start;\r\n  \r\n  const slots: string[] = [];\r\n  for (let i = start; i <= end; i++) {\r\n    slots.push(i.toString());\r\n  }\r\n  \r\n  return slots;\r\n}\r\n\r\n/**\r\n * 解析地点信息\r\n * @param text - 包含地点的文本，如 \"(立人楼B411)\"\r\n * @returns 地点字符串\r\n */\r\nexport function parseLocation(text: string): string | undefined {\r\n  const match = text.match(/\\(([^)]+)\\)/);\r\n  return match ? match[1] : undefined;\r\n}\r\n\r\n/**\r\n * 解析星期\r\n * @param dayStr - 如 \"星期一\" 或 \"周一\"\r\n * @returns 星期数字 (1-7)\r\n */\r\nexport function parseDay(dayStr: string): number | null {\r\n  return DAY_MAP[dayStr] || null;\r\n}\r\n\r\n/**\r\n * 解析单行时间安排\r\n * @param line - 如 \"1-6周，星期一第5-6节 星期三第5-6节 (立人楼B411)\"\r\n * @returns 解析结果\r\n */\r\nexport function parseTimeLine(line: string): {\r\n  weeks: WeekRange | null;\r\n  timeSlots: FixedTimeSlot[];\r\n  location?: string;\r\n} {\r\n  const trimmedLine = line.trim();\r\n  \r\n  // 提取周次信息\r\n  const weekMatch = trimmedLine.match(/^(\\d+(?:-\\d+)?周?)[，,]/);\r\n  const weeks = weekMatch ? parseWeekRange(weekMatch[1]) : null;\r\n  \r\n  // 提取地点信息\r\n  const location = parseLocation(trimmedLine);\r\n  \r\n  // 移除周次和地点信息，只保留时间安排\r\n  let timeContent = trimmedLine;\r\n  if (weekMatch) {\r\n    timeContent = timeContent.replace(weekMatch[0], '');\r\n  }\r\n  if (location) {\r\n    timeContent = timeContent.replace(/\\([^)]+\\)/, '');\r\n  }\r\n  timeContent = timeContent.trim();\r\n  \r\n  // 解析时间安排：星期X第Y-Z节\r\n  const timeSlots: FixedTimeSlot[] = [];\r\n  \r\n  // 匹配所有 \"星期X第Y-Z节\" 的模式 - 使用兼容的方法\r\n  const regex = /(星期[一二三四五六日]|周[一二三四五六日])\\s*第\\d+(?:-\\d+)?节/g;\r\n  let match;\r\n  \r\n  while ((match = regex.exec(timeContent)) !== null) {\r\n    const fullMatch = match[0];\r\n    \r\n    // 提取星期\r\n    const dayMatch = fullMatch.match(/(星期[一二三四五六日]|周[一二三四五六日])/);\r\n    if (!dayMatch) continue;\r\n    \r\n    const dayOfWeek = parseDay(dayMatch[1]);\r\n    if (!dayOfWeek) continue;\r\n    \r\n    // 提取节次\r\n    const timeSlotIds = parseTimeSlots(fullMatch);\r\n    if (timeSlotIds.length === 0) continue;\r\n    \r\n    timeSlots.push({\r\n      dayOfWeek,\r\n      timeSlotIds,\r\n      weeks: weeks ? [weeks] : undefined,\r\n      location\r\n    });\r\n  }\r\n  \r\n  return {\r\n    weeks,\r\n    timeSlots,\r\n    location\r\n  };\r\n}\r\n\r\n/**\r\n * 解析完整的课程时间文本\r\n * @param timeText - 完整的时间文本\r\n * @returns FixedTimeSlot数组\r\n */\r\nexport function parseCourseTime(timeText: string): FixedTimeSlot[] {\r\n  if (!timeText || timeText.trim() === '') return [];\r\n  \r\n  const allTimeSlots: FixedTimeSlot[] = [];\r\n  \r\n  // 按行分割\r\n  const lines = timeText.split(/\\n|\\r\\n/).filter(line => line.trim() !== '');\r\n  \r\n  for (const line of lines) {\r\n    const result = parseTimeLine(line);\r\n    allTimeSlots.push(...result.timeSlots);\r\n  }\r\n  \r\n  return allTimeSlots;\r\n}\r\n\r\n/**\r\n * 从课程描述文本中提取课程信息\r\n * @param courseText - 完整的课程描述文本\r\n * @returns 解析的课程信息\r\n */\r\nexport function parseCourseInfo(courseText: string): {\r\n  name: string;\r\n  teachers: string[];\r\n  department?: string;\r\n  campus?: string;\r\n  credits?: number;\r\n  timeSlots: FixedTimeSlot[];\r\n} {\r\n  const lines = courseText.split(/\\t|\\n/).filter(line => line.trim() !== '');\r\n  \r\n  if (lines.length < 4) {\r\n    throw new Error('课程信息格式不正确，至少需要包含：课程名、教师、学院、校区等信息');\r\n  }\r\n  \r\n  const name = lines[0].trim();\r\n  const teachersStr = lines[1].trim();\r\n  const department = lines[2].trim();\r\n  const campus = lines[3].trim();\r\n  \r\n  // 解析教师（可能有多个，用逗号分隔）\r\n  const teachers = teachersStr.split(/[,，]/).map(t => t.trim()).filter(t => t !== '');\r\n  \r\n  // 提取学分信息（通常在第5列）\r\n  let credits: number | undefined;\r\n  if (lines.length > 4) {\r\n    const creditsMatch = lines[4].match(/\\d+/);\r\n    if (creditsMatch) {\r\n      credits = parseInt(creditsMatch[0]);\r\n    }\r\n  }\r\n  \r\n  // 提取时间信息（通常从第6列开始）\r\n  const timeText = lines.slice(5).join('\\n');\r\n  const timeSlots = parseCourseTime(timeText);\r\n  \r\n  return {\r\n    name,\r\n    teachers,\r\n    department,\r\n    campus,\r\n    credits,\r\n    timeSlots\r\n  };\r\n}\r\n\r\n/**\r\n * 检查指定周次是否在周次范围内\r\n * @param week - 要检查的周次\r\n * @param ranges - 周次范围数组\r\n * @returns 是否在范围内\r\n */\r\nexport function isWeekInRanges(week: number, ranges?: WeekRange[]): boolean {\r\n  if (!ranges || ranges.length === 0) return true;\r\n  \r\n  return ranges.some(range => week >= range.start && week <= range.end);\r\n}\r\n\r\n/**\r\n * 格式化周次范围为字符串\r\n * @param ranges - 周次范围数组\r\n * @returns 格式化的字符串\r\n */\r\nexport function formatWeekRanges(ranges?: WeekRange[]): string {\r\n  if (!ranges || ranges.length === 0) return '全学期';\r\n  \r\n  return ranges.map(range => {\r\n    if (range.start === range.end) {\r\n      return `${range.start}周`;\r\n    } else {\r\n      return `${range.start}-${range.end}周`;\r\n    }\r\n  }).join('，');\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}